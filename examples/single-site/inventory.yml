---
#
# Host "site.local.computer" is an App Host AND a Server Host.
#
apps:
  vars:
    devshop_app_git_repository: https://github.com/drupal-composer/drupal-project.git
    devshop_app_git_root: "/app"

    # @TODO: Make it possible for these to be optional.
    # @TODO: throw an error when these don't exist.
    devshop_app_host: server.local.computer
    devshop_app_server_http: server.local.computer
    devshop_app_server_db: server.local.computer

    devshop_app_command_build: composer install --no-dev
    devshop_app_command_deploy: |
      drush updb -y

    # drush cim -y --diff

  # Environments.
  hosts:

    # App Host
    site.local.computer:
      devshop_app_git_reference: 9.x

# Server Host
http:
  hosts:
    server.local.computer:

db:
  hosts:
    server.local.computer:

# Add the site to the "drupal" group to inherit that group's variables, such as for the build commands.
drupal:
  hosts:
    site.local.computer:
